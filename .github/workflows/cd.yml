name: Change Issue Status

on:
  workflow_dispatch:
    inputs:
      pr_number:
        description: 'Pull Request number to test'
        required: false
        default: '1'

jobs:
  update-linked-issues:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: read
      issues: write
      repository-projects: write
      
    steps:
    - uses: actions/checkout@v4
      with:
        sparse-checkout: .github
        
    - name: Check all PRs with linked issues and update status
      uses: ./.github/actions/pr_linked/update_linked_issue_status
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        PR_NUMBER: ${{ inputs.pr_number }}





